--- build.xml~	2009-03-25 20:30:34.000000000 +0100
+++ build.xml	2009-03-25 20:35:05.000000000 +0100
@@ -158,6 +158,7 @@
   <target name="maven-compile" depends="compile-boot" description="compiles Maven using the bootstrap Maven, skipping automated tests">
     <java fork="true" classname="org.apache.maven.cli.MavenCli" failonerror="true">
       <classpath refid="maven.classpath"/>
+      <arg value="-Djava.home=${env.JAVA_HOME}/jre"/>
       <arg value="-B"/>
       <arg value="-e"/>
       <arg value="clean"/>
--- build.xml~	2009-03-26 23:45:47.000000000 +0100
+++ build.xml	2009-03-26 23:52:42.000000000 +0100
@@ -85,7 +85,7 @@
     </artifact:dependencies>          
   </target>
 
-  <target name="generate-sources" depends="pull" description="generates Java sources from Modello mdo model files">
+  <target name="generate-sources" description="generates Java sources from Modello mdo model files">
     <mkdir dir="bootstrap/target"/>
     <mkdir dir="bootstrap/target/generated-sources"/>
 
--- build.xml~	2009-03-26 23:55:27.000000000 +0100
+++ build.xml	2009-03-26 23:58:47.000000000 +0100
@@ -65,26 +65,6 @@
     <delete dir="bootstrap"/>
   </target>
 
-  <target name="pull" depends="init, read-poms" unless="skip.pull">    
-    <property name="verbose" value="false"/>
-    <property name="bootstrap.repository" value="${basedir}/bootstrap-repository"/>
-    <!-- Pull the dependencies that Maven needs to build -->
-    <artifact:dependencies pathId="pom.pathid" filesetId="pom.fileset" verbose="${verbose}">
-       <!--
-       <localRepository path="${bootstrap.repository}"/>
-       -->
-       <pom refid="pom"/>                                                                                                                                       
-    </artifact:dependencies>      
-    
-    <!-- Pull the dependencies for Modello -->
-    <artifact:dependencies pathId="modello.pathid" filesetId="modello.fileset" verbose="${verbose}">
-       <!--
-       <localRepository path="${bootstrap.repository}"/>
-       -->
-       <dependency groupId="org.codehaus.modello" artifactId="modello-maven-plugin" version="1.0-alpha-17"/>                                                                                                                                      
-    </artifact:dependencies>          
-  </target>
-
   <target name="generate-sources" description="generates Java sources from Modello mdo model files">
     <mkdir dir="bootstrap/target"/>
     <mkdir dir="bootstrap/target/generated-sources"/>
@@ -95,7 +75,7 @@
       <attribute name="version"/>
       <sequential>
         <java fork="fork" classname="org.codehaus.modello.ModelloCli" failonerror="true">
-          <classpath refid="modello.pathid"/>
+	  <!-- <classpath refid="modello.pathid"/> -->
           <arg file="@{file}"/>
           <arg value="@{mode}"/>
           <arg file="bootstrap/target/generated-sources"/>
@@ -140,7 +120,6 @@
     <mkdir dir="bootstrap/target/classes"/>
     <javac destdir="bootstrap/target/classes" encoding="UTF-8" source="1.4" target="1.4" debug="${debug}">
       <src refid="sources"/>
-      <classpath refid="pom.pathid"/>
     </javac>
 
     <!-- DGF generating a fake pom.properties so Maven thinks it has a version number -->
@@ -151,7 +130,6 @@
     <path id="maven.classpath">
       <pathelement location="bootstrap/target/classes"/>
       <path refid="sources"/>
-      <path refid="pom.pathid"/>
     </path>
   </target>
 
